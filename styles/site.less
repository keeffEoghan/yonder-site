*,
*::before,
*::after {
    box-sizing: border-box;
}

html {
    height: 100%;
    .tweak-yr-font-base;

    @m: ~'only screen and @{yr-mq-m-up}';
    @media @m {
        font-size: @tweak-yr-font-base-size-2;
    }
}

body,
.yr-main {
    will-change: background-color;
    .transition(background-color 500ms ease-out);
}

body {
    display: flex;
    flex-flow: column nowrap;
    justify-content: flex-start;
    align-items: stretch;
    min-height: 100%;
    margin: 0 auto;
    background-color: @tweak-yr-color-dark-2-tone-2;
    color: @tweak-yr-color-light-1-tone-3;

    &.homepage {
        background-color: @tweak-yr-color-base-tone-2;
        color: @tweak-yr-color-dark-1-tone-2;
    }

    &.yr-color-theme-1 {
        background-color: @tweak-yr-color-theme-1-tone-2;
    }

    &.yr-color-theme-2 {
        background-color: @tweak-yr-color-theme-2-tone-2;
    }

    &.yr-color-theme-3 {
        background-color: @tweak-yr-color-theme-3-tone-2;
    }

    &.yr-color-theme-4 {
        background-color: @tweak-yr-color-theme-4-tone-2;
    }

    &.yr-color-theme-5 {
        background-color: @tweak-yr-color-theme-5-tone-2;
    }
}

.yr-main {
    flex: 1 0 auto;
    background-color: inherit;
}

p {
    margin: @tweak-yr-p-space auto;
    .tweak-yr-font-p;
}

h1 {
    /**
     * Has some special exceptions to the rest of the typography.
     */
    /* color: @tweak-yr-color-dark-1-tone-1; */
    .tweak-yr-font-h1;
    padding: @tweak-yr-h1-space auto;
}

h2 {
    /* color: @tweak-yr-color-dark-1-tone-1; */
    .tweak-yr-font-h2;
    margin: @tweak-yr-h2-space auto;
}

h3 {
    /* color: @tweak-yr-color-dark-1-tone-2; */
    .tweak-yr-font-h3;
    margin: @tweak-yr-h3-space auto;
}

h4 {
    /* color: @tweak-yr-color-dark-1-tone-2; */
    .tweak-yr-font-h4;
    margin: @tweak-yr-h4-space auto;
}

h5 {
    /* color: @tweak-yr-color-dark-1-tone-3; */
    .tweak-yr-font-h5;
    margin: @tweak-yr-h5-space auto;
}

h6 {
    /* color: @tweak-yr-color-dark-1-tone-3; */
    .tweak-yr-font-h6;
    margin: @tweak-yr-h6-space auto;
}

a {
    /* color: @tweak-yr-color-dark-1-tone-1; */
    color: inherit;
    cursor: pointer;
}

a.yr-a,
.yr-a a {
    .yr-a();
}

b,
strong {
    font-weight: 900;
}

i,
em {
    font-style: italic;
}

q,
blockquote {
    font-style: italic;
    quotes: "“" "”" "‘" "’";

    &::before {
        content: open-quote;
    }

    &::after {
        content: close-quote;
    }
}

blockquote {
    margin: @tweak-yr-p-space auto;
    padding: @tweak-yr-pad-space;
}

pre,
code {
    .tweak-yr-font-mono;
}

pre {
    margin: @tweak-yr-p-space auto;
    padding: @tweak-yr-pad-space;
    white-space: pre-wrap;
}

ol,
ul {
    list-style-position: outside;
    padding-left: @tweak-yr-pad-space * 2;
    margin: @tweak-yr-p-space auto;

    &:dir(rtl) {
        padding-left: 0;
        padding-right: @tweak-yr-pad-space * 2;
    }
}

ol {
    list-style-type: decimal;
}

ul {
    list-style-type: disc;
}

li {}

figure {
    margin: @tweak-yr-pad-space auto;
}

figcaption {
    padding: @tweak-yr-pad-space;
}

hr {
    border: none;
    border-bottom: 1px solid currentColor;
    margin: @tweak-yr-p-space auto;
}

small {
    font-size: 0.8em;
}

img,
.yr-inline-svg {
    display: inline-block;
    vertical-align: middle;
}

::selection {
    background: @tweak-yr-color-selection;
}


/**
 * AJAX Loading
 */

[data-ajax-loading] * {
  cursor: progress;
}

.yr-loader {
    position: fixed;
    top: 0;
    left: -100%;
    width: 100%;
    height: @tweak-yr-loader-size;
    z-index: @yr-z-loader;
    pointer-events: none;
    .border-radius(@tweak-yr-loader-size * 0.5);
    border: 1px solid rgba(0, 0, 0, 0.4);
    border-top-width: 0;
    background-color: @tweak-yr-color-accent-2-tone-3;
    opacity: 0;

    .tweak-yr-loader-align-down-low & {
        top: auto;
        bottom: 0;
    }

    will-change: opacity, transform;
    .transition(opacity 500ms ease-out,
        transform 0ms ease-out 500ms;);

    [data-ajax-loading] & {
        opacity: 1;
        .transition(opacity 0ms ease-out,
            transform 500ms ease-out;);
    }

    [data-ajax-loading='start'] & {
        .transform(translateX(33%));
    }

    [data-ajax-loading='swap'] & {
        .transform(translateX(66%));
    }

    [data-ajax-loading='done'] & {
        .transform(translateX(100%));
    }

    // Show or hide

    display: none;

    .tweak-yr-ajax-enable.tweak-yr-loader-show & {
        display: block;
    }
}
