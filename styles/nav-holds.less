.yr-nav-holds {
    min-height: 100%;
    
    &,
    .yr-nav-holds-main {
        position: relative;
        .display(flex);
        .flex-flow(column nowrap);
        .justify-content(center);
        .align-items(center);
    }

    .yr-nav-holds-main {
        .flex(1 1 auto);
        width: 100%;
    }

    @mq-circle-up: ~'only screen and @{yr-mq-hold-circle-up}';

    #yr-nav-holds-mode,
    .yr-nav-holds-mode-hint {
        order: 1;
        z-index: @yr-z-nav-holds-mode;
    }

    .yr-nav-holds-mode-hint {
        position: relative;
        color: @tweak-yr-color-accent-1-tone-2;
        margin: @tweak-yr-space-pad;
    }

    .yr-nav-holds-mode-label {
        .yr-a();

        .yr-on-(~'.tweak-yr-a-style-fancy'); .-do() {
            border-color: @tweak-yr-color-accent-2-tone-1;
        }
    }

    .yr-nav-holds-mode-block {
        &@{yr-select-sqs-block-on} + .yr-nav-holds-mode-label {
            display: none;
        }

        &@{yr-select-sqs-block-empty} + .yr-nav-holds-mode-label {
            display: block;
        }
    }

    #yr-nav-holds-mode,
    #yr-nav-holds-info-form,
    .yr-nav-hold-info-toggle {
        display: none;
    }

    #yr-nav-holds-info-reset,
    .yr-nav-hold-info-toggle {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        border: none;
        max-width: none;
        opacity: 0;
    }

    /**
     * Conveniences for toggling elements on mode.
     */

    @switch-mode-time: 400ms;

    .switch-mode() {
        will-change: opacity;
        .transition(opacity @switch-mode-time ease-out);
    }
    .switch-mode-off() {
        opacity: 0;
        visibility: hidden;
        @transition: opacity @switch-mode-time ease-out,
            visibility 0ms linear @switch-mode-time;
        .transition(@transition);
    }
    .switch-mode-on() {
        opacity: 1;
        visibility: visible;
        .transition(opacity @switch-mode-time ease-out);
    }
    .switch-mode-off-flow() {
        position: absolute;
        top: 0;
        left: 0;
        .switch-mode-off();
    }

    .switch-mode-on-flow() {
        position: relative;
        .switch-mode-on();
    }


    /**
     * Mode related styles.
     */

    .yr-nav-holds-info-hide {
        // Just used for the `reset` default value.
        display: none;
    }

    #yr-nav-holds-info-reset {
        z-index: @yr-z-nav-holds-info-reset;
    }

    .yr-nav-holds-menu .yr-nav-hold-info-toggle {
        z-index: @yr-z-nav-holds-info-toggle;
    }

    .yr-nav-holds-info,
    .yr-nav-holds-info-block,
    .yr-nav-holds-info-hint,
    .yr-nav-holds-header {
        width: 100%;
        .switch-mode();
    }

    .yr-nav-holds-content {
        .flex(0 0 auto);
        position: relative;
        width: 100%;
        margin: @tweak-yr-space-pad;
        text-align: center;
        /* @todo Cascade fade `.yr-site-title, .yr-site-tagline, .yr-site-description, yr-nav-holds-titles-block` */

        @media @mq-circle-up {
            position: absolute;
            z-index: @yr-z-nav-holds-header;
            max-width: 30vmin;
            max-height: 30vmin;
            overflow: auto;
            padding: 0;
        }
    }

    .yr-nav-holds-info,
    .yr-nav-holds-info-block {
        .switch-mode-off-flow();

        /* @todo Match inner blocks to menu items */
    }


    /**
     * Toggle mode states.
     */

    #yr-nav-holds-mode {
        // `display: none` - depends on a label with `for="yr-nav-holds-mode"` to be toggled.

        &:checked {
            ~ .yr-nav-holds-mode-hint {
                .yr-nav-holds-mode-label {
                    .yr-on-(~'.tweak-yr-a-style-fancy'); .-do() {
                        border-style: dotted;
                    }
                }
            }
            
            ~ #yr-nav-holds-info-form {
                display: block;
            }

            ~ .yr-nav-holds-main {
                .yr-nav-holds-menu .yr-nav-hold-info-toggle {
                    display: block;
                }

                .yr-nav-holds-header {
                    .switch-mode-off-flow();
                }

                .yr-nav-holds-info {
                    .switch-mode-on-flow();
                }
            }
        }
    }

    .yr-nav-holds-menu {
        position: relative;
        .display(flex);
        .flex-flow(column nowrap);
        .flex(1 1 auto);
        width: 100%;
        height: 100%;
        max-width: 1300px;
        max-height: 1300px;
        padding: 2em;
    }

    .yr-site-title {
        display: none;

        .tweak-yr-nav-holds-site-title-show & {
            display: block;
        }
    }

    .yr-site-tagline {
        display: none;

        .tweak-yr-nav-holds-site-tagline-show & {
            display: block;
        }
    }

    .yr-site-description {
        display: none;
        font-size: 1em;

        .tweak-yr-nav-holds-site-description-show & {
            display: block;
        }
    }

    .yr-nav-hold {
        display: inline-block;
        position: relative;
        z-index: @yr-z-nav-holds;

        @margin: 10%;
        margin: 0 @margin 0 auto;

        &:nth-child(odd) {
            margin: 0 auto 0 @margin;
        }

        @themes: @tweak-yr-color-theme-1-tone-2,
            @tweak-yr-color-theme-2-tone-2,
            @tweak-yr-color-theme-3-tone-2,
            @tweak-yr-color-theme-4-tone-2,
            @tweak-yr-color-theme-5-tone-2;

        @n: length(@themes);

        .yr-for-(@n); .-each(@i) {
            &:nth-child((~'@{n}n+@{i}')) .yr-use-hold-shape {
                color: extract(@themes, @i - 1);
            }
        }

        @media @mq-circle-up {
            position: absolute;
            top: 50%;
            left: 50%;

            &,
            &:nth-child(odd) {
                margin: 0;
            }

            .yr-for-(@n); .-each(@i) {
                &:nth-child((~'@{n}n+@{i}')) {
                    @r: (@i - 1) * 360deg / @n;

                    @transform:
                        /* Center */
                        translate(-50%, -50%)
                        /* Angle in circle */
                        rotate(@r)
                        /* Move up onto circle circumference */
                        translateY(-47vmin)
                        /* Move back inside bounds of circle */
                        translateY(50%)
                        /* Move back a little margin */
                        translateY(2em)
                        /* Straighten */
                        rotate(-@r);
                    .transform(@transform);
                }
            }
        }
    }

    .yr-nav-hold-a {
        position: relative;
        .display(flex);
        .flex-flow(row wrap);
        .justify-content(center);
        .align-items(center);
        min-width: @tweak-yr-nav-holds-size-min;
        min-height: @tweak-yr-nav-holds-size-min;
        max-width: @tweak-yr-nav-holds-size-max;
        max-height: @tweak-yr-nav-holds-size-max;
        padding: @tweak-yr-nav-holds-pad;
        text-decoration: none;
        color: @tweak-yr-color-light-1-tone-3;
        z-index: @yr-z-nav-holds-a;
        .tweak-yr-font-nav-holds;
    }

    .shape-hover() {
        ~ .yr-nav-holds-shape-block,
        ~ .yr-nav-hold-view {
            fill-opacity: 1;
            stroke-width: 10px;
        }
    }

    .shape-active() {
        ~ .yr-nav-holds-shape-block,
        ~ .yr-nav-hold-view {
            stroke-opacity: 0.05;
        }
    }

    .yr-nav-hold-info-toggle,
    .yr-nav-hold-a {
        &:hover,
        &:active {
            ~ .yr-nav-holds-shape-block,
            ~ .yr-nav-hold-view {
                .transition(fill-opacity 300ms ease-in-out,
                    stroke-opacity 150ms ease-out 50ms,
                    stroke-width 200ms ease-out;);
            }
        }

        &:hover,
        &:focus {
            .shape-hover();
        }

        &:active {
            .shape-active();
        }
    }

    .yr-nav-hold-info-toggle:checked {
        .shape-hover();
        .shape-active();

        &:hover {
            ~ .yr-nav-holds-shape-block,
            ~ .yr-nav-hold-view {
                fill-opacity: 0;
                stroke-width: 0;
            }
        }
    }

    .yr-nav-holds-shape-block,
    .yr-nav-hold-view {
        position: absolute;
        pointer-events: none;
        top: -10%;
        right: -10%;
        bottom: -10%;
        left: -10%;
        width: 120%;
        height: 120%;
        fill: currentColor;
        stroke: currentColor;
        fill-opacity: 0;
        stroke-opacity: 0;
        stroke-width: 0;
        .transition(fill-opacity 600ms ease-in-out,
            stroke-opacity 500ms ease-out 50ms,
            stroke-width 400ms ease-out;);
    }

    .yr-nav-holds-shape-block {
        &@{yr-select-sqs-block-on} + .yr-nav-hold-view {
            display: none;
        }

        &@{yr-select-sqs-block-empty} + .yr-nav-hold-view {
            display: block;
        }
    }

    .yr-nav-hold-view {
        z-index: @yr-z-nav-holds-view;
    }

    .yr-nav-holds-defs {
        display: none;

        path:nth-child(1) {
            fill-opacity: 1;
            stroke-opacity: 1;
        }

        path:nth-child(2) {
            fill: @tweak-yr-color-light-2-tone-2;
            opacity: 0.2;
            stroke-width: 0;
        }

        path:nth-child(3) {
            stroke: @tweak-yr-color-dark-1-tone-1;
            fill: none;
            stroke-width: 2px;
            stroke-miterlimit: 10px;
        }
    }
}
